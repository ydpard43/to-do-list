"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2610],{6619:(O,S,i)=>{i.d(S,{w:()=>u});var d=i(7535),f=i(3580),e=i(4438);let u=(()=>{var c;class g{constructor(r){this.categoryRepository=r}addCategory(r,l){const C=new d.b(this.generateId(),r,new Date,l);return this.categoryRepository.save(C),C}deleteCategory(r){this.categoryRepository.delete(r)}updateCategory(r,l){const C=this.categoryRepository.findById(r);if(C)return Object.assign(C,l),this.categoryRepository.save(C),C}getCategories(r,l){const k=r*l;return this.categoryRepository.findAll().sort((y,A)=>A.createdAt.getTime()-y.createdAt.getTime()).slice(k,k+l)}generateId(){return crypto.randomUUID()}}return(c=g).\u0275fac=function(r){return new(r||c)(e.KVO(f.k))},c.\u0275prov=e.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),g})()},2698:(O,S,i)=>{i.d(S,{R:()=>c});var d=i(1798),f=i(2471),e=i(7419),u=i(4438);let c=(()=>{var g;class o{constructor(l){this.taskRepository=l}addTask(l,C,k=e.e.Pending,h){const y=new d.Y(this.generateId(),l,k,C,new Date,h);return this.taskRepository.save(y),y}deleteTask(l){this.taskRepository.delete(l)}toggleTaskCompletion(l){l.setStatus(l.status===e.e.Completed?e.e.Pending:e.e.Completed),this.taskRepository.save(l)}updateTask(l,C){const k=this.taskRepository.findById(l);if(k)return Object.assign(k,C),this.taskRepository.save(k),k}getTasks(l,C){const h=l*C;return this.taskRepository.findAll().sort((A,p)=>p.createdAt.getTime()-A.createdAt.getTime()).slice(h,h+C)}generateId(){return crypto.randomUUID()}}return(g=o).\u0275fac=function(l){return new(l||g)(u.KVO(f.n))},g.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),o})()},6565:(O,S,i)=>{i.d(S,{u:()=>u});var d=i(467),f=i(4438),e=i(3092);let u=(()=>{var c;class g{constructor(r){this.alertController=r}showAlertInfo(r){var l=this;return(0,d.A)(function*(){yield(yield l.alertController.create({header:r.ALERTS.TITLE,message:r.ALERTS.MESSAGE,buttons:[r.ALERTS.BUTTON]})).present()})()}presentDeleteConfirm(r,l,C){var k=this;return(0,d.A)(function*(){yield(yield k.alertController.create({header:r.TEXTS.DELETE_CONFIRM_TITLE,message:C,cssClass:"custom-alert",buttons:[{text:r.BUTTONS.CANCEL.LABEL,role:"cancel",handler:()=>{console.log(r.TEXTS.DELETE_CANCELLED)}},{text:r.BUTTONS.DELETE.LABEL,role:"confirm",handler:()=>{l&&l()}}]})).present()})()}}return(c=g).\u0275fac=function(r){return new(r||c)(f.KVO(e.hG))},c.\u0275prov=f.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),g})()},5357:(O,S,i)=>{i.d(S,{M:()=>D});var d=i(467);const f=Object.freeze({TEXTS:{CATEGORY_TITLE:"Nombre de la categor\xeda",CATEGORY_TITLE_PLACEHOLDER:"Escribe el categor\xeda",CATEGORY_HEADER:"Nueva categor\xeda",DATE_LABEL:"Asignar fecha (opcional)",NO_DATE_SELECTED:"No se ha elegido una fecha"},BUTTONS:{ADD_CATEGORY:{TEXT:"Guardar"},CLOSE:{TEXT:"Cerrar"}},ALERTS:{TITLE:"Informaci\xf3n incompleta",MESSAGE:"Completa el nombre de la categor\xeda antes de guardarla.",BUTTON:"Entendido"}});var e=i(4438),u=i(6619),c=i(6565),g=i(4341),o=i(3092),r=i(177);function l(a,m){if(1&a){const s=e.RV6();e.j41(0,"ion-datetime",17),e.mxI("ngModelChange",function(t){e.eBV(s);const T=e.XpG();return e.DH7(T.newCategoriesDate,t)||(T.newCategoriesDate=t),e.Njj(t)}),e.k0s()}if(2&a){const s=e.XpG();e.R50("ngModel",s.newCategoriesDate)}}let C=(()=>{var a;class m{constructor(n,t,T){this.categoryService=n,this.modalService=t,this.alertService=T,this.newCategoriesTitle="",this.newCategoriesCategoryId="",this.newCategoriesDate=null,this.config=f}onAddCategories(){var n=this;return(0,d.A)(function*(){n.newCategoriesTitle.trim()?(n.addCategory(),n.resetForm()):n.alertService.showAlertInfo(n.config)})()}resetForm(){this.newCategoriesTitle="",this.newCategoriesCategoryId="",this.newCategoriesDate=null}closeModal(){this.modalService.closeModal()}addCategory(){this.categoryService.addCategory(this.newCategoriesTitle,this.newCategoriesDate||void 0),this.closeModal()}}return(a=m).\u0275fac=function(n){return new(n||a)(e.rXU(u.w),e.rXU(D),e.rXU(c.u))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-add-categories"]],decls:30,vars:12,consts:[[1,"modal-header-enhanced","ion-no-border"],[1,"enhanced-toolbar"],[1,"header-title"],[1,"title-content"],["name","folder-open-outline",1,"header-icon"],[1,"item-container"],[1,"item"],[1,"custom",3,"ngModelChange","ngModel","placeholder"],[1,"item","date-item"],["datetime","datePicker",1,"invisible-date-input"],[1,"date-content"],[1,"date-helper"],["name","calendar-outline",1,"calendar-icon"],[1,"custom-backdrop-modal",3,"keepContentsMounted"],[1,"btn-container"],[1,"add",3,"click"],[1,"close",3,"click"],["id","datePicker","presentation","date","show-default-buttons","true","show-clear-button","true","clear-text","Limpiar","cancel-text","Cancelar","done-text","Aceptar",3,"ngModelChange","ngModel"]],template:function(n,t){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2)(3,"div",3),e.nrm(4,"ion-icon",4),e.j41(5,"ion-label"),e.EFF(6),e.k0s()()()()(),e.j41(7,"ion-content")(8,"div",5)(9,"div",6)(10,"ion-label"),e.EFF(11),e.k0s(),e.j41(12,"div")(13,"ion-input",7),e.mxI("ngModelChange",function(_){return e.DH7(t.newCategoriesTitle,_)||(t.newCategoriesTitle=_),_}),e.k0s()()(),e.j41(14,"div",8)(15,"ion-label"),e.EFF(16),e.k0s(),e.nrm(17,"ion-datetime-button",9),e.j41(18,"div",10)(19,"ion-text",11),e.EFF(20),e.nI1(21,"date"),e.k0s(),e.nrm(22,"ion-icon",12),e.k0s(),e.j41(23,"ion-modal",13),e.DNE(24,l,1,1,"ng-template"),e.k0s()(),e.j41(25,"div",14)(26,"button",15),e.bIt("click",function(){return t.onAddCategories()}),e.EFF(27),e.k0s(),e.j41(28,"button",16),e.bIt("click",function(){return t.closeModal()}),e.EFF(29),e.k0s()()()()),2&n&&(e.R7$(6),e.JRh(t.config.TEXTS.CATEGORY_HEADER),e.R7$(5),e.JRh(t.config.TEXTS.CATEGORY_TITLE),e.R7$(2),e.FS9("placeholder",t.config.TEXTS.CATEGORY_TITLE_PLACEHOLDER),e.R50("ngModel",t.newCategoriesTitle),e.R7$(3),e.JRh(t.config.TEXTS.DATE_LABEL),e.R7$(4),e.SpI(" ",t.newCategoriesDate?e.i5U(21,9,t.newCategoriesDate,"mediumDate"):t.config.TEXTS.NO_DATE_SELECTED," "),e.R7$(3),e.Y8G("keepContentsMounted",!0),e.R7$(4),e.SpI(" ",t.config.BUTTONS.ADD_CATEGORY.TEXT," "),e.R7$(2),e.SpI(" ",t.config.BUTTONS.CLOSE.TEXT," "))},dependencies:[g.BC,g.vS,o.W9,o.A9,o.K4,o.eU,o.iq,o.$w,o.he,o.IO,o.BC,o.ai,o.Sb,o.Je,o.Gw,r.vh],styles:[".empty-date[_ngcontent-%COMP%]{color:transparent;text-shadow:0 0 5px rgba(0,0,0,.5)}.empty-date[_ngcontent-%COMP%]   slot[_ngcontent-%COMP%]{font-size:0px!important;width:128px;height:32px}ion-datetime.empty-date[_ngcontent-%COMP%]::part(native){color:transparent}button#date-button[_ngcontent-%COMP%]{color:#00f!important}"]}),m})();var k=i(7535);const h=Object.freeze({TEXTS:{EDIT_CATEGORY_HEADER:"Actualizar categor\xeda",CATEGORY_TITLE:"Categor\xeda",CATEGORY_TITLE_PLACEHOLDER:"Agrega una categor\xeda (opcional)",DATE_LABEL:"Fecha (opcional)",NO_DATE_SELECTED:"No se ha elegido una fecha"},BUTTONS:{SAVE_TASK:{TEXT:"Guardar"},CLOSE:{TEXT:"Cerrar"}},ALERTS:{TITLE:"Faltan datos",MESSAGE:"Debes ingresar un t\xedtulo para poder guardar la tarea.",BUTTON:"Entendido"}});function y(a,m){if(1&a){const s=e.RV6();e.j41(0,"ion-datetime",17),e.mxI("ngModelChange",function(t){e.eBV(s);const T=e.XpG();return e.DH7(T.editableCategory.date,t)||(T.editableCategory.date=t),e.Njj(t)}),e.k0s()}if(2&a){const s=e.XpG();e.R50("ngModel",s.editableCategory.date),e.Y8G("disabled",!s.allowCategoryUpdate)}}let A=(()=>{var a;class m{constructor(n,t,T){this.categoriesService=n,this.alertService=t,this.modalService=T,this.allowCategoryUpdate=null,this.config=h}ngOnInit(){this.setEditCategory()}saveCategory(){var n=this;return(0,d.A)(function*(){n.allowCategoryUpdate&&n.editableCategory.title.trim()?(n.updateCategory(),n.closeModal()):n.alertService.showAlertInfo(n.config)})()}updateCategory(){this.categoriesService.updateCategory(this.category.id,{title:this.editableCategory.title,date:this.editableCategory.date})}closeModal(){this.modalService.closeModal()}setEditCategory(){this.editableCategory=new k.b(this.category.id,this.category.title,this.category.createdAt,this.category.date)}}return(a=m).\u0275fac=function(n){return new(n||a)(e.rXU(u.w),e.rXU(c.u),e.rXU(D))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-update-categories"]],inputs:{category:"category",allowCategoryUpdate:"allowCategoryUpdate"},decls:30,vars:15,consts:[[1,"modal-header-enhanced","ion-no-border"],[1,"enhanced-toolbar"],[1,"header-title"],[1,"title-content"],["name","create-outline",1,"header-icon"],[1,"item-container"],[1,"item"],[1,"custom",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"item","date-item"],["datetime","datePicker",1,"invisible-date-input",3,"disabled"],[1,"date-content"],[1,"date-helper"],["name","calendar-outline",1,"calendar-icon"],[1,"custom-backdrop-modal",3,"keepContentsMounted"],[1,"btn-container"],["expand","block","color","primary",3,"click","disabled"],["expand","block","color","danger",3,"click"],["id","datePicker","presentation","date","show-default-buttons","true","show-clear-button","true","clear-text","Limpiar","cancel-text","Cancelar","done-text","Aceptar",3,"ngModelChange","ngModel","disabled"]],template:function(n,t){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2)(3,"div",3),e.nrm(4,"ion-icon",4),e.j41(5,"ion-label"),e.EFF(6),e.k0s()()()()(),e.j41(7,"ion-content")(8,"div",5)(9,"div",6)(10,"ion-label"),e.EFF(11),e.k0s(),e.j41(12,"div")(13,"ion-input",7),e.mxI("ngModelChange",function(_){return e.DH7(t.editableCategory.title,_)||(t.editableCategory.title=_),_}),e.k0s()()(),e.j41(14,"div",8)(15,"ion-label"),e.EFF(16),e.k0s(),e.nrm(17,"ion-datetime-button",9),e.j41(18,"div",10)(19,"ion-text",11),e.EFF(20),e.nI1(21,"date"),e.k0s(),e.nrm(22,"ion-icon",12),e.k0s(),e.j41(23,"ion-modal",13),e.DNE(24,y,1,2,"ng-template"),e.k0s()(),e.j41(25,"div",14)(26,"ion-button",15),e.bIt("click",function(){return t.saveCategory()}),e.EFF(27),e.k0s(),e.j41(28,"ion-button",16),e.bIt("click",function(){return t.closeModal()}),e.EFF(29),e.k0s()()()()),2&n&&(e.R7$(6),e.JRh(t.config.TEXTS.EDIT_CATEGORY_HEADER),e.R7$(5),e.JRh(t.config.TEXTS.CATEGORY_TITLE),e.R7$(2),e.R50("ngModel",t.editableCategory.title),e.Y8G("placeholder",t.config.TEXTS.CATEGORY_TITLE_PLACEHOLDER)("disabled",!t.allowCategoryUpdate),e.R7$(3),e.JRh(t.config.TEXTS.DATE_LABEL),e.R7$(),e.Y8G("disabled",!t.allowCategoryUpdate),e.R7$(3),e.SpI(" ",t.editableCategory.date?e.i5U(21,12,t.editableCategory.date,"mediumDate"):t.config.TEXTS.NO_DATE_SELECTED," "),e.R7$(3),e.Y8G("keepContentsMounted",!0),e.R7$(3),e.Y8G("disabled",!t.allowCategoryUpdate),e.R7$(),e.SpI(" ",t.config.BUTTONS.SAVE_TASK.TEXT," "),e.R7$(2),e.SpI(" ",t.config.BUTTONS.CLOSE.TEXT," "))},dependencies:[g.BC,g.vS,o.Jm,o.W9,o.A9,o.K4,o.eU,o.iq,o.$w,o.he,o.IO,o.BC,o.ai,o.Sb,o.Je,o.Gw,r.vh]}),m})();const p=Object.freeze({TEXTS:{TASK_HEADER:"Nueva Tarea",TASK_TITLE:"Nombre de la tarea",TASK_TITLE_PLACEHOLDER:"Escribe la tarea",CATEGORY_ID:"Categor\xeda (opcional)",CATEGORY_ID_PLACEHOLDER:"Categor\xeda",NO_CATEGORY:"Sin categorias",DATE_LABEL:"Fecha (opcional)",NO_DATE_SELECTED:"No se ha elegido una fecha"},BUTTONS:{ADD_TASK:{TEXT:"Guardar"},CLOSE:{TEXT:"Cerrar"}},ALERTS:{TITLE:"Informaci\xf3n incompleta",MESSAGE:"Completa el nombre de la tarea antes de guardarla.",BUTTON:"Entendido"}});var E=i(2698);function v(a,m){if(1&a&&(e.j41(0,"ion-select-option",21),e.EFF(1),e.k0s()),2&a){const s=m.$implicit;e.Y8G("value",s.title),e.R7$(),e.SpI(" ",s.title," ")}}function R(a,m){if(1&a){const s=e.RV6();e.j41(0,"ion-button",22),e.bIt("click",function(){e.eBV(s);const t=e.XpG();return e.Njj(t.clearCategory())}),e.nrm(1,"ion-icon",23),e.k0s()}}function M(a,m){if(1&a){const s=e.RV6();e.j41(0,"ion-datetime",24),e.mxI("ngModelChange",function(t){e.eBV(s);const T=e.XpG();return e.DH7(T.newTaskDate,t)||(T.newTaskDate=t),e.Njj(t)}),e.k0s()}if(2&a){const s=e.XpG();e.R50("ngModel",s.newTaskDate)}}let I=(()=>{var a;class m{constructor(n,t,T,_){this.alertService=n,this.categoriesService=t,this.modalService=T,this.taskService=_,this.newTaskTitle="",this.newTaskCategoryId="",this.newTaskDate=null,this.config=p,this.page=0,this.categories=[],this.totalCategories=0,this.pageSize=20}ngOnInit(){this.loadCategories()}onAddTask(){var n=this;return(0,d.A)(function*(){n.newTaskTitle.trim()?(n.addTask(),n.resetForm(),n.closeModal()):n.alertService.showAlertInfo(n.config)})()}addTask(){this.taskService.addTask(this.newTaskTitle,this.newTaskCategoryId||"",void 0,this.newTaskDate||void 0)}resetForm(){this.newTaskTitle="",this.newTaskCategoryId="",this.newTaskDate=null}clearCategory(){this.newTaskCategoryId=""}loadCategories(){this.page=0,this.categories=this.categoriesService.getCategories(0,this.pageSize)||[],this.totalCategories=this.categories.length}closeModal(){this.modalService.closeModal()}}return(a=m).\u0275fac=function(n){return new(n||a)(e.rXU(c.u),e.rXU(u.w),e.rXU(D),e.rXU(E.R))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-add-tasks"]],decls:37,vars:17,consts:[[1,"modal-header-enhanced","ion-no-border"],[1,"enhanced-toolbar"],[1,"header-title"],[1,"title-content"],["name","document-text-outline",1,"header-icon"],[1,"item-container"],[1,"item"],["name","title",1,"custom",3,"ngModelChange","ngModel","placeholder"],[1,"item","category-item"],["fill","outline","interface","popover","labelPlacement","stacked",3,"ngModelChange","ngModel","placeholder"],[3,"value",4,"ngFor","ngForOf"],["fill","clear","size","small","slot","end","class","clear-select-btn",3,"click",4,"ngIf"],[1,"item","date-item"],["datetime","datetime",1,"invisible-date-input"],[1,"date-content"],[1,"date-helper"],["name","calendar-outline",1,"calendar-icon"],[1,"custom-backdrop-modal",3,"keepContentsMounted"],[1,"btn-container"],[1,"add",3,"click"],[1,"close",3,"click"],[3,"value"],["fill","clear","size","small","slot","end",1,"clear-select-btn",3,"click"],["name","close-circle","slot","icon-only","color","danger"],["id","datetime","presentation","date","show-default-buttons","true","show-clear-button","true","clear-text","Limpiar","cancel-text","Cancelar","done-text","Aceptar",3,"ngModelChange","ngModel"]],template:function(n,t){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2)(3,"div",3),e.nrm(4,"ion-icon",4),e.j41(5,"ion-label"),e.EFF(6),e.k0s()()()()(),e.j41(7,"ion-content")(8,"div",5)(9,"div",6)(10,"ion-label"),e.EFF(11),e.k0s(),e.j41(12,"div")(13,"ion-input",7),e.mxI("ngModelChange",function(_){return e.DH7(t.newTaskTitle,_)||(t.newTaskTitle=_),_}),e.k0s()()(),e.j41(14,"div",8)(15,"ion-label"),e.EFF(16),e.k0s(),e.j41(17,"div")(18,"ion-select",9),e.mxI("ngModelChange",function(_){return e.DH7(t.newTaskCategoryId,_)||(t.newTaskCategoryId=_),_}),e.DNE(19,v,2,2,"ion-select-option",10),e.k0s(),e.DNE(20,R,2,0,"ion-button",11),e.k0s()(),e.j41(21,"div",12)(22,"ion-label"),e.EFF(23),e.k0s(),e.nrm(24,"ion-datetime-button",13),e.j41(25,"div",14)(26,"ion-text",15),e.EFF(27),e.nI1(28,"date"),e.k0s(),e.nrm(29,"ion-icon",16),e.k0s(),e.j41(30,"ion-modal",17),e.DNE(31,M,1,1,"ng-template"),e.k0s()(),e.j41(32,"div",18)(33,"button",19),e.bIt("click",function(){return t.onAddTask()}),e.EFF(34),e.k0s(),e.j41(35,"button",20),e.bIt("click",function(){return t.closeModal()}),e.EFF(36),e.k0s()()()()),2&n&&(e.R7$(6),e.JRh(t.config.TEXTS.TASK_HEADER),e.R7$(5),e.JRh(t.config.TEXTS.TASK_TITLE),e.R7$(2),e.FS9("placeholder",t.config.TEXTS.TASK_TITLE_PLACEHOLDER),e.R50("ngModel",t.newTaskTitle),e.R7$(3),e.JRh(t.config.TEXTS.CATEGORY_ID),e.R7$(2),e.FS9("placeholder",t.config.TEXTS.CATEGORY_ID_PLACEHOLDER),e.R50("ngModel",t.newTaskCategoryId),e.R7$(),e.Y8G("ngForOf",t.categories),e.R7$(),e.Y8G("ngIf",t.newTaskCategoryId),e.R7$(3),e.JRh(t.config.TEXTS.DATE_LABEL),e.R7$(4),e.SpI(" ",t.newTaskDate?e.i5U(28,14,t.newTaskDate,"mediumDate"):t.config.TEXTS.NO_DATE_SELECTED," "),e.R7$(3),e.Y8G("keepContentsMounted",!0),e.R7$(4),e.SpI(" ",t.config.BUTTONS.ADD_TASK.TEXT," "),e.R7$(2),e.SpI(" ",t.config.BUTTONS.CLOSE.TEXT," "))},dependencies:[r.Sq,r.bT,g.BC,g.vS,o.Jm,o.W9,o.A9,o.K4,o.eU,o.iq,o.$w,o.he,o.Nm,o.Ip,o.IO,o.BC,o.ai,o.Sb,o.Je,o.Gw,r.vh]}),m})();var L=i(1798);const U=Object.freeze({TEXTS:{TASK_HEADER:"Actualizar tarea",TASK_TITLE:"T\xedtulo de la tarea",TASK_TITLE_PLACEHOLDER:"Escribe el t\xedtulo de la tarea",CATEGORY_ID:"Categor\xeda(opcional)",CATEGORY_ID_PLACEHOLDER:"Categor\xeda",NO_CATEGORY:"Sin categorias",DATE_LABEL:"Fecha l\xedmite (opcional)",NO_DATE_SELECTED:"No se ha elegido una fecha"},BUTTONS:{SAVE_TASK:{TEXT:"Actualizar"},CLOSE:{TEXT:"Cerrar"}},ALERTS:{TITLE:"Faltan datos",MESSAGE:"Debes ingresar un t\xedtulo para poder guardar la tarea.",BUTTON:"Entendido"}});function F(a,m){if(1&a&&(e.j41(0,"ion-select-option",21),e.EFF(1),e.k0s()),2&a){const s=m.$implicit;e.Y8G("value",s.title),e.R7$(),e.SpI(" ",s.title," ")}}function w(a,m){if(1&a){const s=e.RV6();e.j41(0,"ion-button",22),e.bIt("click",function(){e.eBV(s);const t=e.XpG();return e.Njj(t.clearCategory())}),e.nrm(1,"ion-icon",23),e.k0s()}if(2&a){const s=e.XpG();e.Y8G("disabled",!s.allowTaskUpdate)}}function j(a,m){if(1&a){const s=e.RV6();e.j41(0,"ion-datetime",24),e.mxI("ngModelChange",function(t){e.eBV(s);const T=e.XpG();return e.DH7(T.editableTask.date,t)||(T.editableTask.date=t),e.Njj(t)}),e.k0s()}if(2&a){const s=e.XpG();e.R50("ngModel",s.editableTask.date),e.Y8G("disabled",!s.allowTaskUpdate)}}let P=(()=>{var a;class m{constructor(n,t,T,_){this.taskService=n,this.alertService=t,this.modalService=T,this.categoriesService=_,this.allowTaskUpdate=null,this.config=U,this.page=0,this.categories=[],this.totalCategories=0,this.pageSize=20}ngOnInit(){this.setEditTask(),this.loadCategories()}saveTask(){var n=this;return(0,d.A)(function*(){n.allowTaskUpdate&&n.editableTask.title.trim()?(n.taskService.updateTask(n.task.id,{title:n.editableTask.title,categoryId:n.editableTask.categoryId,date:n.editableTask.date}),n.closeModal()):n.alertService.showAlertInfo(n.config)})()}setEditTask(){this.editableTask=new L.Y(this.task.id,this.task.title,this.task.status,this.task.categoryId,this.task.createdAt,this.task.date)}clearCategory(){this.editableTask.categoryId=""}loadCategories(){this.page=0,this.categories=this.categoriesService.getCategories(0,this.pageSize)||[],this.totalCategories=this.categories.length}closeModal(){this.modalService.closeModal()}}return(a=m).\u0275fac=function(n){return new(n||a)(e.rXU(E.R),e.rXU(c.u),e.rXU(D),e.rXU(u.w))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-update-tasks"]],inputs:{task:"task",allowTaskUpdate:"allowTaskUpdate"},decls:37,vars:21,consts:[[1,"modal-header-enhanced","ion-no-border"],[1,"enhanced-toolbar"],[1,"header-title"],[1,"title-content"],["name","create-outline",1,"header-icon"],[1,"item-container"],[1,"item"],[1,"custom",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"item","category-item"],["fill","outline","interface","popover","labelPlacement","stacked",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"value",4,"ngFor","ngForOf"],["fill","clear","size","small","slot","end","class","clear-select-btn",3,"disabled","click",4,"ngIf"],[1,"item","date-item"],["datetime","editTaskDate",1,"invisible-date-input",3,"disabled"],[1,"date-content"],[1,"date-helper"],["name","calendar-outline",1,"calendar-icon"],[1,"custom-backdrop-modal",3,"keepContentsMounted"],[1,"btn-container"],[1,"add",3,"click","disabled"],[1,"close",3,"click"],[3,"value"],["fill","clear","size","small","slot","end",1,"clear-select-btn",3,"click","disabled"],["name","close-circle","slot","icon-only","color","danger"],["id","editTaskDate","presentation","date","show-default-buttons","true","show-clear-button","true","clear-text","Limpiar","cancel-text","Cancelar","done-text","Aceptar",3,"ngModelChange","ngModel","disabled"]],template:function(n,t){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2)(3,"div",3),e.nrm(4,"ion-icon",4),e.j41(5,"ion-label"),e.EFF(6),e.k0s()()()()(),e.j41(7,"ion-content")(8,"div",5)(9,"div",6)(10,"ion-label"),e.EFF(11),e.k0s(),e.j41(12,"div")(13,"ion-input",7),e.mxI("ngModelChange",function(_){return e.DH7(t.editableTask.title,_)||(t.editableTask.title=_),_}),e.k0s()()(),e.j41(14,"div",8)(15,"ion-label"),e.EFF(16),e.k0s(),e.j41(17,"div")(18,"ion-select",9),e.mxI("ngModelChange",function(_){return e.DH7(t.editableTask.categoryId,_)||(t.editableTask.categoryId=_),_}),e.DNE(19,F,2,2,"ion-select-option",10),e.k0s(),e.DNE(20,w,2,1,"ion-button",11),e.k0s()(),e.j41(21,"div",12)(22,"ion-label"),e.EFF(23),e.k0s(),e.nrm(24,"ion-datetime-button",13),e.j41(25,"div",14)(26,"ion-text",15),e.EFF(27),e.nI1(28,"date"),e.k0s(),e.nrm(29,"ion-icon",16),e.k0s(),e.j41(30,"ion-modal",17),e.DNE(31,j,1,2,"ng-template"),e.k0s()(),e.j41(32,"div",18)(33,"button",19),e.bIt("click",function(){return t.saveTask()}),e.EFF(34),e.k0s(),e.j41(35,"button",20),e.bIt("click",function(){return t.closeModal()}),e.EFF(36),e.k0s()()()()),2&n&&(e.R7$(6),e.JRh(t.config.TEXTS.TASK_HEADER),e.R7$(5),e.JRh(t.config.TEXTS.TASK_TITLE),e.R7$(2),e.FS9("placeholder",t.config.TEXTS.TASK_TITLE_PLACEHOLDER),e.R50("ngModel",t.editableTask.title),e.Y8G("disabled",!t.allowTaskUpdate),e.R7$(3),e.JRh(t.config.TEXTS.CATEGORY_ID),e.R7$(2),e.FS9("placeholder",t.config.TEXTS.CATEGORY_ID_PLACEHOLDER),e.R50("ngModel",t.editableTask.categoryId),e.Y8G("disabled",!t.allowTaskUpdate),e.R7$(),e.Y8G("ngForOf",t.categories),e.R7$(),e.Y8G("ngIf",t.editableTask.categoryId),e.R7$(3),e.JRh(t.config.TEXTS.DATE_LABEL),e.R7$(),e.Y8G("disabled",!t.allowTaskUpdate),e.R7$(3),e.SpI(" ",t.editableTask.date?e.i5U(28,18,t.editableTask.date,"mediumDate"):t.config.TEXTS.NO_DATE_SELECTED," "),e.R7$(3),e.Y8G("keepContentsMounted",!0),e.R7$(3),e.Y8G("disabled",!t.allowTaskUpdate),e.R7$(),e.SpI(" ",t.config.BUTTONS.SAVE_TASK.TEXT," "),e.R7$(2),e.SpI(" ",t.config.BUTTONS.CLOSE.TEXT," "))},dependencies:[r.Sq,r.bT,g.BC,g.vS,o.Jm,o.W9,o.A9,o.K4,o.eU,o.iq,o.$w,o.he,o.Nm,o.Ip,o.IO,o.BC,o.ai,o.Sb,o.Je,o.Gw,r.vh]}),m})(),D=(()=>{var a;class m{constructor(n){this.modalController=n,this.components={addCategory:C,addTask:I,editCategory:A,editTasks:P}}closeModal(n){this.modalController.dismiss(n)}openModal(n,t,T,_){this.modalController.create({component:this.components[n],cssClass:t,componentProps:T}).then(function(){var X=(0,d.A)(function*(b){yield b.present(),b.onDidDismiss().then(()=>{_&&_()})});return function(b){return X.apply(this,arguments)}}())}}return(a=m).\u0275fac=function(n){return new(n||a)(e.KVO(o.W3))},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),m})()},9487:(O,S,i)=>{i.d(S,{S:()=>c});var d=i(680),f=i(8455),e=i(6354),u=i(4438);let c=(()=>{var g;class o{constructor(l){this.remoteConfig=l,this.fetchAndActivateFn=d.LF,this.getStringChangesFn=d.jo}activateRemoteConfig(){return this.remoteConfig.settings.minimumFetchIntervalMillis=0,(0,f.H)(this.fetchAndActivateFn(this.remoteConfig))}getBooleanValue$(l){return this.getStringChangesFn(this.remoteConfig,l).pipe((0,e.T)(C=>"true"===C))}}return(g=o).\u0275fac=function(l){return new(l||g)(u.KVO(d.$T))},g.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),o})()},5553:(O,S,i)=>{i.d(S,{s:()=>k});var d=i(467);const f=Object.freeze({TEXTS:{NO_CATEGORY:"Sin categor\xeda asignada",DELETE_CONFIRM_TITLE:"\xbfEliminar categor\xeda?",DELETE_CONFIRM_MESSAGE:'\xbfSeguro que deseas borrar la categor\xeda "{title}"?',DELETE_CANCELLED:"Se cancel\xf3 la eliminaci\xf3n",NO_DATE:"No hay una fecha disponible"},BUTTONS:{DELETE:{LABEL:"Eliminar",SLOT:"end",COLOR:"danger"},CANCEL:{LABEL:"Cancelar"}}});var e=i(4438),u=i(6619),c=i(6565),g=i(5357),o=i(177),r=i(3092);function l(h,y){if(1&h){const A=e.RV6();e.j41(0,"ion-button",9),e.bIt("click",function(E){e.eBV(A);const v=e.XpG().$implicit;return e.XpG().presentDeleteConfirm(v),e.Njj(E.stopPropagation())}),e.nrm(1,"ion-icon",10),e.k0s()}}function C(h,y){if(1&h){const A=e.RV6();e.j41(0,"ion-col",1)(1,"ion-card",2),e.bIt("click",function(){const E=e.eBV(A).$implicit,v=e.XpG();return e.Njj(v.openEditCategoryModal(E))}),e.j41(2,"ion-card-content")(3,"div",3)(4,"div",4),e.nrm(5,"ion-icon",5),e.j41(6,"h2"),e.EFF(7),e.k0s()(),e.DNE(8,l,2,0,"ion-button",6),e.k0s(),e.j41(9,"div",7),e.nrm(10,"ion-icon",8),e.j41(11,"span"),e.EFF(12),e.nI1(13,"date"),e.k0s()()()()()}if(2&h){const A=y.$implicit,p=e.XpG();e.R7$(7),e.JRh(A.title),e.R7$(),e.Y8G("ngIf",p.allowCategoryDeletion),e.R7$(4),e.JRh(e.i5U(13,3,A.date,"MMM d, y")||p.config.TEXTS.NO_DATE)}}let k=(()=>{var h;class y{constructor(p,E,v){this.categoriesService=p,this.alertService=E,this.modalService=v,this.categories=[],this.filteredCategories=[],this.config=f,this.filterCategoryId="",this.allowCategoryDeletion=null,this.allowCategoryUpdate=null,this.page=0,this.pageSize=20,this.totalCategories=0}ngOnInit(){this.loadCategories()}ngOnChanges(){this.applyFilter()}loadCategories(){this.page=0,this.categories=this.categoriesService.getCategories(0,this.pageSize)||[],this.totalCategories=this.categories.length,this.applyFilter()}loadMoreCategories(p){this.page++;const E=this.categoriesService.getCategories(this.page,this.pageSize);this.categories=[...this.categories,...E],this.applyFilter(),p.target.complete(),this.filteredCategories.length>=this.totalCategories&&(p.target.disabled=!0)}applyFilter(){const p=this.filterCategoryId.trim().toLowerCase();this.filteredCategories=""===p?this.categories.slice(0,(this.page+1)*this.pageSize):this.categories.filter(E=>{var v;return null===(v=E.title)||void 0===v?void 0:v.toLowerCase().includes(p)}).slice(0,(this.page+1)*this.pageSize)}presentDeleteConfirm(p){var E=this;return(0,d.A)(function*(){const v=`${E.config.TEXTS.DELETE_CONFIRM_MESSAGE.replace("{title}",p.title)}`;E.alertService.presentDeleteConfirm(E.config,()=>{E.deleteCategories(p.id)},v)})()}deleteCategories(p){this.allowCategoryDeletion&&(this.categoriesService.deleteCategory(p),this.loadCategories())}openEditCategoryModal(p){this.modalService.openModal("editCategory","custom-modal-category",{category:p,allowCategoryUpdate:this.allowCategoryUpdate},()=>{this.loadCategories()})}}return(h=y).\u0275fac=function(p){return new(p||h)(e.rXU(u.w),e.rXU(c.u),e.rXU(g.M))},h.\u0275cmp=e.VBU({type:h,selectors:[["app-list-categories"]],inputs:{filterCategoryId:"filterCategoryId",allowCategoryDeletion:"allowCategoryDeletion",allowCategoryUpdate:"allowCategoryUpdate"},features:[e.OA$],decls:3,vars:1,consts:[["size","12","size-md","6","size-lg","4",4,"ngFor","ngForOf"],["size","12","size-md","6","size-lg","4"],[1,"category-card",3,"click"],[1,"category-header"],[1,"category-title"],["name","folder-outline",1,"folder-icon"],["fill","clear","class","delete-button","title","Eliminar categor\xeda",3,"click",4,"ngIf"],[1,"category-date"],["name","calendar-outline",1,"calendar-icon"],["fill","clear","title","Eliminar categor\xeda",1,"delete-button",3,"click"],["name","trash-outline"]],template:function(p,E){1&p&&(e.j41(0,"ion-grid")(1,"ion-row"),e.DNE(2,C,14,6,"ion-col",0),e.k0s()()),2&p&&(e.R7$(2),e.Y8G("ngForOf",E.filteredCategories))},dependencies:[o.Sq,o.bT,r.Jm,r.b_,r.I9,r.hU,r.lO,r.iq,r.ln,o.vh],styles:[".category-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:14px;margin-bottom:14px;background-color:#fff;padding:12px 14px;position:relative;transition:transform .2s ease,box-shadow .2s ease;border:1px solid rgba(0,0,0,.05);box-shadow:0 2px 4px #0000000a,0 6px 12px #0000000d;cursor:pointer}.category-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.category-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin:0;color:#222;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;display:flex;gap:6px}.category-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;bottom:4px}.folder-icon[_ngcontent-%COMP%]{font-size:1rem;color:#222}.delete-button[_ngcontent-%COMP%]{padding-right:2px;display:flex;align-items:center;--color: var(--ion-color-danger)}.delete-button[_ngcontent-%COMP%]{--color: var(--ion-color-danger);padding:0;height:100%;position:absolute;right:0;bottom:0}.delete-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#ff4d4d;opacity:.6;transition:opacity .2s ease,transform .2s ease}.category-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.75rem;color:#888;margin-top:4px}.calendar-icon[_ngcontent-%COMP%]{font-size:.9rem;color:#777}@media (max-width: 360px){.category-title[_ngcontent-%COMP%]{font-size:.95rem}.category-date[_ngcontent-%COMP%]{font-size:.7rem}.calendar-icon[_ngcontent-%COMP%]{font-size:.85rem}}"]}),y})()},2526:(O,S,i)=>{i.d(S,{l:()=>u});var d=i(4438),f=i(3092),e=i(177);let u=(()=>{var c;class g{constructor(){this.action=new d.bkB,this.currentDate=new Date}onClick(){this.action.emit()}}return(c=g).\u0275fac=function(r){return new(r||c)},c.\u0275cmp=d.VBU({type:c,selectors:[["app-header"]],inputs:{config:"config"},outputs:{action:"action"},decls:11,vars:6,consts:[[1,"header-content"],["size","12","size-md","6",1,"app-title"],[1,"current-date"],["size","12","size-md","6",1,"btn-container"],[1,"add",3,"click"]],template:function(r,l){1&r&&(d.j41(0,"ion-grid")(1,"ion-row",0)(2,"ion-col",1)(3,"h1"),d.EFF(4),d.k0s(),d.j41(5,"p",2),d.EFF(6),d.nI1(7,"date"),d.k0s()(),d.j41(8,"ion-col",3)(9,"button",4),d.bIt("click",function(){return l.onClick()}),d.EFF(10),d.k0s()()()()),2&r&&(d.R7$(4),d.JRh(l.config.TEXTS.WELCOME),d.R7$(2),d.JRh(d.i5U(7,3,l.currentDate,"fullDate")),d.R7$(4),d.SpI(" ",l.config.BUTTONS.ADD.TEXT," "))},dependencies:[f.hU,f.lO,f.ln,e.vh],styles:[".app-title[_ngcontent-%COMP%]{display:flex;flex-direction:column}.header-content[_ngcontent-%COMP%]{align-items:center;padding:24px}.app-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.app-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;margin:0}.current-date[_ngcontent-%COMP%]{font-size:1rem}.btn-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.btn-container[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}}"]}),g})()},7981:(O,S,i)=>{i.d(S,{G:()=>u});var d=i(177),f=i(3092),e=i(4438);let u=(()=>{var c;class g{}return(c=g).\u0275fac=function(r){return new(r||c)},c.\u0275mod=e.$C({type:c}),c.\u0275inj=e.G2t({imports:[d.MD,f.bv]}),g})()}}]);